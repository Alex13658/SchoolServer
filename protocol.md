## 1. Общие положения
*Данный список содержит только необходимые параметры запросов. Способ подтверждения личности для клиента здесь не прописан. Его надо придумать.

### Таблица 1.0. Типы ошибок `malformed_request` 

| Мнемокод       | Описание                                                                                                                                                                                                                                                                             |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `missing`      | Ожидаемая словарная пара отсутствует.                                                                                                                                                                                                                                                |
| `malformed`    | Тип значения ключа не совпадает с одним из ожидаемых.                                                                                                                                                                                                                                |
| `invalid`      | Значение не может быть обработано из-за бессмысленности данных. Примеры: ID, не соответствующий никакому объекту; неверный пароль.                                                                                                                                                   |
| `inaccessible` | Значение верное, но клиент не может запрашивать обработку этих данных, потому что у него нет к ним доступа. Сервер оставляет за собой право не разглашать осмысленность запроса, поэтому даже если фактически ошибка подходит под этот тип, она может быть обозначена как `invalid`. |

Типы ошибок, не указанные выше, будут указаны вместе с соответствующим запросом далее.

Для ключей с типом number|undefined вместо undefined используем значение -1.


### 1.1 Запрос списка школ

Следующий запрос позволяет узнать список школ, поддерживаемых приложением. 

```json
{
	"action": "get_school_list"
}
```

Ответ на запрос:

```json
{
	"schools": [
		{
			"id": "number", 
			"name": "string",
			"website": "string"
		}
    ]
}
```
| Ключ        | Значение                                    |
| ----------- | ------------------------------------------- |
| `schools` | Список школ, поддерживаемых приложением.  |
| `id` |  Id школы. |
| `name` | Название школы. |
| `website` | Ссылка на электронный дневник школы. |

### 1.2 Запрос доступа

Следующий запрос позволяет узнать имеет ли наш пользователь разрешение на авторизацию

```json
{
	"action": "check_permission",
	"login": "string",
	"id": "string"
}
```

| Ключ        | Значение                                    |
| ----------- | ------------------------------------------- |
| `login` | Логин пользователя. |
| `id` | Id школы. |

Ответ на запрос:

```json
{
	"permission": "boolean"
}
```
| Ключ        | Значение                                    |
| ----------- | ------------------------------------------- |
| `permission` | true если доступ разрешен. false иначе. |

###1.3 Авторизация

Ниже указан запрос клиента на авторизацию.

```json
{
	"action": "sign_in",
	"login": "string",
	"passkey": "string",
	"id": "string"
}
```

| Ключ          | Значение                                                                                                                                                                                                                                                                               |
| ------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `login`       | Логин нового пользователя.                                                                                                                                                                                                                                                             |
| `passkey`     | _Passkey_ — `hex_md5(password)`, где `hex_md5(...)` означает хэш по алгоритму md5 (последовательность любых байт) от последовательности байт в скобках, `password` означает пароль пользователя |
| `id`    | Id школы. |

Ответ на запрос входа:

```json
{
	"success": "boolean"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | Была ли авторизация успешной. |

| Тип ошибки                            | Причина                                                                                                                                                                                                                                                                                         |
| -------------                         | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                                   |
| `"too_many_requests.sign_in_blocked"`                      | У клиента нет права на вход в аккаунт до определённого момента. |
| `"wrong_username_or_password.sign_in_blocked"`           | Неверные имя пользователя или пароль. |   
| `"server_error.sign_in_blocked"`           | Сайт не доступен, сервер не может с ним связаться. |   
| `"permission_denied.sign_in_blocked"`           | Этому аккаунту доступ запрещен. |  

### 1.4 Выход

Выход есть отвязка соединения от устройства и аккаунта.

```json
{
	"action": "log_out"
}
```

Ответ на запрос:

```json
{
	"success": "boolean"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | Была ли авторизация успешной. |

После после получения ответа этого типа неуместны никакие другие запросы, кроме `get_school_list`, `check_permission` и `sign_in`.


## 2 Основные разделы

### 2.1 Дневник 

#### 2.1.1 Получение заданий и оценок на неделю.

```json
{
	"action": "get_tasks_and_marks",
	"week": "string",
	"id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `week`    | Первый день запрашиваемой недели в формате dd.mm.yyyy. Пусто если неделя текущая. Если не задана, то `week` = "" |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |

Ответ на запрос:

```json
{
	"days": [
		{
			"date": "string",
			"lessons": [
				{
					"id": "number",
					"status": "number",
					"inTime": "boolean",
					"name": "string",
					"author": "string",
					"title": "string",
					"type": "string",
					"mark": "string|undefined",
					"weight": "string|undefined"
				}
			]
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `date`    | Дата. |
| `id`    | Id урока. |
| `status`    | `1` если задание новое. `3` если задание выполнено. `2`  если просмотренное. |
| `in_time`    | `true` если задание сдано вовремя. `false` иначе. |
| `name`    | Название предмета. |
| `author`    | Автор задания. |
| `title`    | Тема задания. |
| `type`    | Тип задания. |
| `mark`    | Оценка. |
| `weight`    | Вес оценки. |


#### 2.1.2 Получение подробностей урока.

```json
{
	    "action": "get_lesson_description",
	    "id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Id урока для которого мы хотим узнать подробности. Если не специализировано, то `id`=""|

Ответ на запрос:

```json
{
	"description": "string|undefined",
	"file": "string|undefined"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `description`    | Подробности задания. |
| `file`    | Ссылка (на наш сервер), по которой наш сервер будет стримить присоединенный файл с сайта. |


#### 2.1.3 Отметка задания как выполненного.

```json
{
	"action": "mark_as_done",
	"id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Id домашнего задания, которое мы хотим отметить как выполненное. |

Ответ на запрос:

```json
{
	"success" : "boolean"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | Получилось ли выполнить запрос. |

#### 2.1.4 Отметка задания как невыполненного.

```json
{
	"action": "unmark_as_done",
	"id": "string"
}
```

Ответ на запрос:

```json
{
	"success": "boolean"
}
```

### 2.2 Объявления 

#### 2.2.1 Получение списка объявлений.

```json
{
	"action": "get_posts"
}
```


Ответ на запрос:

```json
{
	"posts": [
		{
			"id": "number",
			"unread": "boolean",
			"author": "string",
			"title": "string",
			"date": "string",
			"message": "string",
			"file": "string"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Id объявления. |
| `unread`    | `true` если объявление новое. `false` иначе. |
| `author`    | Автор объявления. |
| `title`    | Тема объявления. |
| `date`    | Дата. |
| `message`    | Сообщение. |
| `file`    | Ссылка (на наш сервер), по которой наш сервер будет стримить присоединенный файл с сайта. |


### 2.3 Расписание 

#### 2.3.1 Получение расписания на N дней (N=1,2,..,7).

```json
{
	"action": "get_schedule",
	"days": "number",
	"id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `days`    | Количество дней (начиная и включая сегодня) для которых нужно расписание. |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |

Ответ на запрос:

```json
{
	"days": [
		{
			"date": "string",
			"lessons": [
				{
					"start": "string",
					"end": "string",
					"name": "string",
					"classroom": "string"
				}
			]
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `date`    | Дата дня, на которое у нас приходит расписание. |
| `start`    | Время начала урока в виде hh:mm. Если выходной/праздник/каникулы, то 00:00. |
| `end`    | Время конца урока в виде hh:mm. Если выходной/праздник/каникулы, то 23:59. |
| `name`    | Название урока. Если выходной/праздник/каникулы, то Выходной день/название праздника/Каникулы соответственно.|
| `classroom`    | Класс. Может отсутствовать, в этом случае `classroom` = "" |

### 2.4 Отчеты 

## 2.4.1 Получение отчета "Итоговые отметки".

```json
{
	"action": "get_report_student_total_marks",
	"id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = ""  |

Ответ на запрос: 

```json
{
	"table": [
		{
			"subject": "string",
			"period1": "number|undefined",
			"period2": "number|undefined",
			"period3": "number|undefined",
			"period4": "number|undefined",
			"year": "number|undefined",
			"exam": "number|undefined",
			"final": "number|undefined"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `subject`    | Предмет. |
| `period1`    | Оценка за 1 четверть. |
| `period2`    | Оценка за 2 четверть. |
| `period3`    | Оценка за 3 четверть. |
| `period4`    | Оценка за 4 четверть. |
| `year`    | Годовая оценка. |
| `exam`    | Экзаменационная оценка. |
| `final`    | Итоговая оценка. |

## 2.4.2 Получение отчета "Средний балл".

```json
{
	"action": "get_report_student_average_mark",
	"id": "string",
	"type": "string",
	"from": "string",
	"to": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |
| `type`    | `T` если "Итоговые отметки", `S` если "Срезовые работы" и `B` если "Итоговые отметки и срезовые работы". |
| `from`    | Начало периода отчета. |
| `to`    | Конец периода отчета. |

Ответ на запрос: 

```json
{
	"table": [
		{
			"subject": "string",
			"student_mark": "string",
			"class_mark": "string"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `subject`    | Предмет. |
| `student_mark`    | Средний балл ученика. |
| `class_mark`    | Средний балл класса. |

#### 2.4.3 Получение отчета "Динамика среднего балла".

```json
{
	"action": "get_report_student_average_mark_dyn",
	"id": "string",
	"type": "string",
	"from": "string",
	"to": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |
| `type`    | `T` если "Итоговые отметки", `S` если "Срезовые работы" и `B` если "Итоговые отметки и срезовые работы". |
| `from`    | Начало периода отчета. |
| `to`    | Конец периода отчета. |

Ответ на запрос:

```json
{
	"table": [
		{
			"date": "string",
			"student_works_amount": "number|undefined",
			"student_average_mark": "number|undefined",
			"class_works_amount": "number|undefined",
			"class_average_mark": "number|undefined"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `date`    | Дата срезовой работы/Четверть/Полугодие. |
| `student_works_amount`    | Количество срезовых работ ученика. |
| `student_average_mark`    | Средний балл ученика. |
| `class_works_amount`    | Количество срезовых работ класса. |
| `class_average_mark`    | Средний балл класса. |

#### 2.4.4 "Отчет об успеваемости".

### 2.4.4.1 Получение списка предметов для отчета "Отчет об успеваемости".

```json
{
	"action": "get_report_student_grades_lesson_list",
	"id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |

Ответ на запрос:

```json
{
	"lessons": [
		{
			"id": "number",
			"name": "string"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Id предмета. |
| `name`    | Название предмета. |


### 2.4.4.2 Получение отчета "Отчет об успеваемости".

```json
{
	"action": "get_report_student_grades",
	"student_id": "string",
	"lesson_id": "number",
	"from": "string",
	"to": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `student_id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |
| `lesson_id`    | Id предмета. |
| `from`    | Начало периода отчета. |
| `to`    | Конец периода отчета. |

Ответ на запрос:

```json
{
	"table": [
		{
			"type": "string",
			"theme": "string",
			"date_of_completion": "string",
			"mark": "number|undefined"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `type`    | Тип задания. |
| `theme`    | Тема задания. |
| `date_of_completion`    | Дата выполнения. |
| `mark`    | Оценка. |

#### 2.4.5 Получение отчета "Отчет об успеваемости и посещаемости".

```json
{
	"action": "get_report_student_total",
	"id": "number|undefined",
	"from": "string",
	"to": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |
| `from`    | Начало периода отчета. |
| `to`    | Конец периода отчета. |

Ответ на запрос:

```json
{
	"table": [
		{
			"months": [
				{
					"name": "string",
					"days": [
						{
							"number": "number",
							"subjects": [
								{
									"name": "string",
									"marks": [ "string" ]
								}
							]
						}
					]
				}
			],
			"average_marks": [
				{
					"name": "string",
					"mark": "number|undefined"
				}
			]
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `months`    | Часть отчёта без среднего балла. |
| `average_marks`    | Средний балл по предметам. |

В "months":

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `name`    | Название месяца. |
| `days`    | Дни в этом месяце для данного отчёта. |

В "days":

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `number`    | Номер дня. |
| `subjects`    | Оценки, "точки", пропуски в этот день по предметам. |

В "subjects":

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `name`    | Название предмета. |
| `marks`    | Оценки по этому предмету. |

В "average_marks": 

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `name`    | Название предмета. |
| `mark`    | Средняя оценка по этому предмету. |

#### 2.4.6 Получение отчета "Отчет о доступе к классному журналу".

```json
{
	"action": "get_report_journal_access",
	"student_id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `student_id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |

Ответ на запрос:

```json
{
	"table": [
		{
			"class": "number|undefined",
			"subject": "string",
			"date": "string",
			"user": "string",
			"lesson_date": "string",
			"period": "string",
			"action": "string"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `class`    | Класс. |
| `subject`    | Предмет. |
| `date`    | Дата и время изменений. |
| `user`    | Пользователь. |
| `lesson_date`    | Занятие в расписании. |
| `period`    | Учебный период. |
| `action`    | Действие. |

#### 2.4.7 Отчет "Информационное письмо для родителей".

### 2.4.7.1 Получение данных для отчета "Информационное письмо для родителей".

```json
{
	"action": "get_report_parent_info_letter_data",
	"id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = "" |

Ответ на запрос: 

```json
{
	"data": [
		{
			"report_types": [
				{
					"report_type_id": "number",
					"report_type_name": "string"
				}
			],
		"periods": [
				{
					"period_id": "number",
					"period_name": "string"
				}
			]
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `report_type_id`    | Id вида отчета. |
| `report_type_name`    | Название вида отчета. |
| `period_id`    | Id периода. |
| `period_name`    | Название периода. |

### 2.4.7.2 Получение отчета "Информационное письмо для родителей".

```json
{
    "action": "get_report_parent_info_letter",
    "student_id": "string",
    "report_type_id": "string",
    "period_id": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `student_id`    | Если у нас аккаунт родителя, у которого несколько детей учится в школе, то ему на сайте в дневнике доступно между ними переключение. Это id выбранного ребенка. Если ребенок один или это аккаунт ученика, то `id` = ""  |
| `period_id`    | Id периода. |
| `report_type_id`    | Id типа отчета. |

Ответ на запрос:

```json
{
	"table": [
		{
			"name": "string",
			"marks": [ "number|undefined" ],
			"average_mark": "number|undefined",
			"mark_for_period": "number|undefined"
		}
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `name`    | Предмет. |
| `marks`    | Количество оценок "8", "7", ... , "1". В marks[0] -- кол-во оценок "8", в marks[1] -- кол-во оценок "7" и т.д. |
| `average_mark`    | Средний балл. |
| `mark_for_period`    | Оценка за период. Это поле используется, если в виде отчёта выбрано "Итоги учебного года". |

### 2.5 Школьные ресурсы

#### 2.5.1 Получения списка школьных файлов

```json
{
    "action": "get_recources"
}
```

Ответ на запрос:

```json
{
	"groups": [
		"group_title": "string",
		"files": [
			"name": "string",
			"link": "string"
		],
		"subgroups": [
			"subgroup_title": "string",
			"files": [
				"name": "string",
				"link": "string"
			]
		]
	]
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `group_title`    | Название группы. |
| `subgroup_title`    | Название подгруппы если имеется. |
| `name`    | Название файла. |
| `link`    | Ссылка на файл.|

### 2.6 Почта

#### 2.6.1 Получение списка писем

```json
{
    "action": "get_mail",
    "section": "number",
    "page": "number|undefined"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `page`    | Номер страницы, которую надо запросить у сайта. Undefined если первая страница. |
| `section`    | `0` если раздел `Входящие`,`1` если раздел `Черновики`,`2` если раздел `Отправленные`,`3` если раздел `Удаленные` |

Ответ на запрос:

```json
{	
	"letters": [
		"date": "string",
		"id": "number",
		"author": "string",
		"title": "string",
		"unread": "boolean"
	]
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `date`    | Дата отправки письма. |
| `id`    | Id письма. |
| `author`    | Отправитель. |
| `title`    | Тема. |
| `unread`    | `true` если письмо не прочитано,`false` иначе. |

#### 2.6.2 Получение подробностей письма

```json
{
    "action": "get_mail_description",
    "id": "number"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Id письма. |

Ответ на запрос:

```json
{	
	"to": [
		"name": "string",
		"id": "number"
	],
	"copy": [
		"name": "string",
		"id": "number"
	],
	"description": "string",
	"files": [
		"file_name": "string",
		"link": "string"
	]
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `to`    | Массив пользователей, которым письмо адресовано. |
| `copy`    | Массив пользователей, которые находятся в копии письма. |
| `name`    | Имя, под которым пользователь записан в адресной книге. |
| `id`    | Id пользователя. |
| `description`    | Тело письма. |
| `files`    | Массив присоединенных файлов. |
| `file_name`    | Название файла. |
| `link`    | Ссылка (на наш сервер), по которой наш сервер будет стримить присоединенный файл с сайта. |

#### 2.6.3 Удаление письма

```json
{
    "action": "delete_mail",
    "id": "number",
    "section": "number"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Id письма. |
| `section`    | `0` если раздел `Входящие`,`1` если раздел `Черновики`,`2` если раздел `Отправленные`,`3` если раздел `Удаленные` |

Ответ на запрос:

```json
{	
	"success": "boolean"
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | Получилось ли удалить письмо. |

#### 2.6.4 Отправка нового письма

```json
{
    "action": "send_letter",
    "to": [
		"id": "number"
	],
	"copy": [
		"id": "number"
	],
	"hidden_copy": [
		"id": "number"
	],
	"title": "string|undefined",
	"description": "string",
	"notification": "boolean"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `to`    | Массив пользователей, которым письмо адресовано. |
| `copy`    | Массив пользователей, которые находятся в копии письма. |
| `hidden_copy`    | Массив пользователей, которые находятся в скрытой копии письма. |
| `id`    | Id пользователя. |
| `title`    | Тема письма. |
| `description`    | Тело письма. |
| `notification`    | `true` если нужно уведомить отправителя о прочтении,`false` иначе. |

Ответ на запрос:

```json
{	
	"success": "boolean"
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | Получилось ли отправить письмо. |

#### 2.6.5 Загрузка адресной книги

```json
{
    "action": "get_adress_book"
}
```

Ответ на запрос:

```json
{	
	"adress_book": [
		"groups": [
			"title": "string",
			"users": [
				"name": "string",
				"id" : "number"
			]
		],
		"classes": [
			"class_name": "string",
			"users": [
				"student": "string",
				"student_id": "number",
				"parents": [
					"parent": "string",
					"parent_id": "number"
				]
			]
			"name": "string",
			"id" : "number"
		]
	]
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `title`    | Заголовок группы. |
| `name`    | Имя пользователя в адресной книге. |
| `id`    | Id пользователя в адресной книге. |
| `class_name`    | Название класса из адресной книги. |
| `student`    | Имя ученика в адресной книге. |
| `student_id`    | Id ученика в адресной книге. |
| `parents`    | Массив родителей ученика. Пустой если таковых нет. |
| `parent`    | Имя родителя в адресной книге. |
| `parent_id`    | Id родителя в адресной книге. |

### 2.7 Форум

#### 2.7.1 Загрузка списка тем 

```json
{
    "action": "get_forum",
    "page": "number|undefined"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `page`    | Номер страницы, которую надо запросить у сайта. Undefined если первая страница. |

Ответ на запрос:

```json
{	
	"posts": [
		"date": "string",
		"last_author": "string",
		"id": "number",
		"creator": "string",
		"answers": "number",
		"title": "string",
		"unread": "boolean"
	]
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `date`    | Дата последнего сообщения в теме. |
| `last_author`    | Автор последнего сообщения. |
| `id`    | Id темы. |
| `creator`    | Создатель темы. |
| `answers`    | Количество ответов. |
| `title`    | Тема. |
| `unread`    | `true` если пользователь не читал эту тему или тема содержит новые сообщения,`false` иначе. |

#### 2.7.2 Загрузка сообщений из темы

```json
{
    "action": "get_forum",
    "id": "number",
    "page": "number|undefined"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `page`    | Номер страницы, которую надо запросить у сайта. Undefined если первая страница. |
| `id`    | Id темы. |

Ответ на запрос:

```json
{	
	"messages": [
		"date": "string",
		"author": "string",
		"role": "string",
		"message": "string",
		"unread": "string"
	]
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `date`    | Дата сообщения. |
| `author`    | Автор сообщения. |
| `role`    | Роль пользователя, оставившего сообщение в системе. Примеры: `ученик`, `учитель`. |
| `message`    | Сообщение. |
| `unread`    | `true` если пользователь не читал это сообщение,`false` иначе. |

#### 2.7.3 Создание новой темы на форуме

```json
{
    "action": "create_topic",
    "title": "string",
    "message": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `title`    | Название темы. |
| `message`    | Сообщение. |

Ответ на запрос:

```json
{	
	"success": "boolean"
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | `true` если тема успешно создана,`false` иначе. |

#### 2.7.4 Создание нового сообщения в теме

```json
{
    "action": "create_message_in_topic",
    "id": "number",
    "message": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `id`    | Id темы. |
| `message`    | Сообщение. |

Ответ на запрос:

```json
{	
	"success": "boolean"
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | `true` если сообщение успешно отправлено,`false` иначе. |


### 2.8 Настройки

#### 2.8.1 Изменение пароля

```json
{
    "action": "change_password",
    "old": "string",
    "new": "string"
}
```

| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `old`    | Старый пароль. |
| `new`    | Новый пароль. |

Ответ на запрос:

```json
{	
	"success": "boolean"
}
```
| Ключ        | Значение                              |
| ----------- | ------------------------------------- |
| `success`    | `true` если пароль успешно изменен,`false` иначе. |
